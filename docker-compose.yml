# version of docker-compose
version: '3.3'
# 'services' are equivalent to 'containers'
services:
  redis-server:
    # Use Docker Hub base image 'redis' 
    image: 'redis'
  receiver-service:
    restart: on-failure
    image: 'gregorycoward/f5dcs-logreceiver:1.0.0'
    # Specify an array of ports to map
    environment:
      - RECV_PORT=601
    ports:
      - '601:601'
  publisher-service:
    restart: on-failure
    image: 'gregorycoward/f5dcs-logpublisher:1.1.0'
    environment:
      - SPLUNK_HOST=
      - SPLUNK_HEC= 
      - DATADOG_TOKEN= 
      - ANALYTIC_PROVIDER=datadog  #Enter either 'splunk' or 'datadog'