# version of docker-compose
version: '3.3'
# 'services' are equivalent to 'containers'
services:
  redis-server:
    # Use Docker Hub base image 'redis' 
    image: 'redis'
  receiver-service:
    restart: on-failure
    image: 'gregorycoward/f5dcs-logreceiver:1.0.0'
    # Specify an array of ports to map
    environment:
      - RECV_PORT=601
    ports:
      - '601:601'
  publisher-service:
    restart: on-failure
    image: 'gregorycoward/f5dcs-logpublisher:1.1.0'
    environment:
      - SPLUNK_HOST=206.124.129.189
      - SPLUNK_HEC=bc5199eb-655b-458b-b7bd-5b348b099338
      - DATADOG_TOKEN=89df701b1a60056ce65e9b5a9496f6bc
      - ANALYTIC_PROVIDER=datadog